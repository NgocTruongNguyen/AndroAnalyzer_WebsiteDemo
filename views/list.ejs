<%- include myheader.ejs %>

    <div class="container">
		<h1>List of apk file apk has a partition</h1>
		<table class="table text-center">
			<thead>
			  <tr>
				<th scope="col-1">#</th>
				<th scope="col">SHA-256</th>
				<th scope="col">Package Name</th>
				<th scope="col">Status</th>
			  </tr>
			</thead>
			<tbody>
			<% for(var i=0; i<analysis.length; i++) {%>
			  <tr>
				<th scope="row" class="col-1"><%- i %></th>
				<td> <a href="/hybridanalysis/<%- analysis[i].sha256 %>" alt="sha256" class="text-secondary"><%- analysis[i].sha256 %> </a></td>
				<td><% if(analysis[i].packageName && analysis[i].packageName != null){ %>
                      <%= analysis[i].packageName %>
				<% } %></td>
				<td> 
					<% if(analysis[i].state === 4){ %>
						<span class="badge bg-success fs-6">Done</span>
					  <% }else if(analysis[i].state === 3){ %>
						<span class="badge bg-primary fs-6">In progress</span>
					  <% }else if(analysis[i].state === 2){ %>
						<span class="badge bg-danger fs-6">Queued</span>
					  <% }else if(analysis[i].state === 1){ %>
						<span class="badge bg-secondary fs-6">Awaiting approval</span>
					  <% }else if(analysis[i].state === 0){ %>
						<span class="badge bg-warning fs-6">Error</span>
					<% } %>
				</td>
			  </tr>
			<% } %>
			</tbody>
		  </table>
	</div>    
</body>
</html>
